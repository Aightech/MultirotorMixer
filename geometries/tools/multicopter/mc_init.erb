#!/bin/sh
#
# @name <%= model_name %> SITL
#
# @type <%= model_type %>

# @class Copter
#
<% (0..nb_rotor-1).each do |index| %>
# @output MAIN<%= index+1 %> motor <%= index+1 %>

<% end %>

sh /etc/init.d/rc.mc_defaults
set MAV_TYPE <%= mav_type %>

set MIXER <%= model_name %>


param set MC_ROLL_P <%= MC_ROLL_P  %>

param set MC_ROLLRATE_P <%= MC_ROLLRATE_P/ACC_ANG_MAX_ROLL  %>

param set MC_ROLLRATE_D <%= MC_ROLLRATE_D/ACC_ANG_MAX_ROLL  %>

param set MC_ROLLRATE_I <%= MC_ROLLRATE_I/ACC_ANG_MAX_ROLL  %>

param set MC_RR_INT_LIM <%= MC_RR_INT_LIM  %>


param set MC_PITCH_P <%= MC_PITCH_P  %>

param set MC_PITCHRATE_P <%= MC_PITCHRATE_P/ACC_ANG_MAX_PITCH  %>

param set MC_PITCHRATE_D <%= MC_PITCHRATE_D/ACC_ANG_MAX_PITCH  %>

param set MC_PITCHRATE_I <%= MC_PITCHRATE_I/ACC_ANG_MAX_PITCH  %>

param set MC_PR_INT_LIM <%= MC_PR_INT_LIM  %>


param set MC_YAW_P <%= MC_YAW_P  %>

param set MC_YAWRATE_P <%= MC_YAWRATE_P/ACC_ANG_MAX_YAW  %>

param set MC_YAWRATE_D <%= MC_YAWRATE_D/ACC_ANG_MAX_YAW  %>

param set MC_YAWRATE_I <%= MC_YAWRATE_I/ACC_ANG_MAX_YAW  %>

param set MC_YR_INT_LIM <%= MC_YR_INT_LIM  %>

# Need to set all 8 channels
set PWM_OUT 12345678
